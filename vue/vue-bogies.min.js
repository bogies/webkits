Vue.component("timestamp-format",{props:["value","format"],template:"<span>{{ showContent }}</span>",data:function(){return{showContent:moment(this.value).format(this.format)}}}),Vue.directive("mask-string",{inserted:function(e,t){var n=t.value;if(!n.src)return void(e.innerHTML="");var r=n.src.length;r<n.right&&(n.right=r);var i=n.src.substr(0,n.left);i+=n.mask,i+=n.src.substr(n.src.length-n.right),e.innerHTML=i},update:function(e,t){var n=t.value;if(n.src!=t.oldValue.src){if(!n.src)return void(e.innerHTML="");var r=n.src.length;r<n.right&&(n.right=r);var i=n.src.substr(0,n.left);i+=n.mask,i+=n.src.substr(n.src.length-n.right),e.innerHTML=i}}}),Vue.directive("ztree",{inserted:function(e,t){t.value.nodes.length>0&&(t.value.zTree=$.fn.zTree.init($(e),t.value.setting,t.value.nodes))},update:function(e,t){t.value.refresh&&(t.value.refresh=!1,$.fn.zTree.init($(e),t.value.setting,t.value.nodes))}}),Vue.directive("pop-ztree",{bind:function(e,t){e.__onTreeBodyDown__=function(n){if(!($(n.target).parents("#"+t.value.elId).length>0)&&$(e).get(0)!==$(n.target).get(0)){var r=$("#"+t.value.elId);r.fadeOut("fast"),$("body").unbind("mousedown",e.__onTreeBodyDown__),e.__isShowTree__=!1}},e.__isShowTree__=!1;var n=function(n){if(t.value.hasNodes){var r=$("#"+t.value.elId);if(e.__isShowTree__)return $("body").unbind("mousedown",e.__onTreeBodyDown__),r.fadeOut("fast"),void(e.__isShowTree__=!1);var i=n.target.getBoundingClientRect(),o=$(n.target).get(0).offsetHeight;r.css({left:i.left+"px",top:parseInt(i.top)+o+"px"}).slideDown("fast"),$("body").bind("mousedown",e.__onTreeBodyDown__),e.__isShowTree__=!0}};e.__vueClickOutSide__=n,e.addEventListener("click",n)},update:function(e,t){if(t.value.reqClose){t.value.reqClose=!1;var n=$("#"+t.value.elId);n.fadeOut("fast"),$("body").unbind("mousedown",e.__onTreeBodyDown__),e.__isShowTree__=!1}},unbind:function(e,t){document.removeEventListener("click",e.__vueClickOutSide__),delete e.__vueClickOutSide__}});