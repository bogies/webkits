function tmspParams(t){t?(this.service=t.service,this.url=t.url,this.method=t.method,this.data=t.data,this.loading=t.loading):(this.service="",this.url="",this.method="GET",this.data={none:"none"},this.loading=null),this.setService=function(t){this.service=t},this.setUrl=function(t){this.url=t},this.setMethod=function(t){this.method=t},this.setMethodPost=function(){this.method="POST"},this.setMethodPut=function(){this.method="PUT"},this.setMethodDelete=function(){this.method="DELETE"},this.setData=function(t){this.data=t},this.setLoading=function(t){this.loading=t}}function Tmsp(t){t.data||(t.data={none:"none"});var e=encodeURI(t.service+t.url),n=new Promise(function(n,i){$.ajax({url:URI_DOMAIN+"/s/do.jsd",type:"POST",data:t.data,dataType:"JSON",beforeSend:function(n){t.loading&&t.loading.el.loading(t.loading.p),n.setRequestHeader(HeaderConstants.METHOD,t.method),n.setRequestHeader(HeaderConstants.URI,e)},success:function(e){t.loading&&t.loading.el.loading("toggle"),200==e.code?n(e):i(e)},error:function(e,n,o){t.loading&&t.loading.el.loading("toggle"),i(new Error(n))}})});return n}window.HeaderConstants={URI:"XV-URI",METHOD:"XV-METHOD"};